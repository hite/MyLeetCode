<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script type="text/javascript">
        // https://leetcode-cn.com/problems/shu-zhi-de-zheng-shu-ci-fang-lcof/
        /**
     * @param {number} x
     * @param {number} n
     * @return {number}
     */
        var myPow = function (x, n) {
            if (n == 0) return 1;
            if (n < 0) return 1 / myPow(x, -n);
            // 在 JS 里 算数右移是有隐患的，如
            // -2147483648 >> 1
            //     - 1073741824
            // 2147483648 >> 1
            //     - 1073741824
            // 解决方式，要吗对正数 / 2 操作，要吗用逻辑右移 》》》
            if (n & 0x01) {
                // 奇数
                var n1 = (n - 1) >>> 1;
                var tmp = myPow(x, n1)
                return x * tmp * tmp;
            } else {
                var n1 = n >>> 1;
                var tmp = myPow(x, n1)
                return tmp * tmp;
            }
        };
        // 找到的其他人写的逻辑
        var myPow = function (x, n) {
            if (n == 0 || x == 1) return 1;
            let res = 1;
            let is_minus = false;
            if (n < 0) n = Math.abs(n), is_minus = true;
            for (let i = 0; i < 32; i++) {
                if (n >> i & 1) res *= x;
                x *= x;
            }
            if (is_minus) res = 1 / res;
            return res;

        };
    </script>
</body>

</html>